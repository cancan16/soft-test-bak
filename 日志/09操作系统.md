# 操作系统地位

![](../pic/2023-05-14-16-46-20.png)

![](../pic/2023-05-14-17-31-00.png)
![](../pic/2023-05-14-17-31-48.png)

# 顺序执行

![](../pic/2023-05-14-17-34-57.png)

# 前趋图

![](../pic/2023-05-14-17-49-01.png)

P1执行中: V(S1) + 1
P2执行前: P(S1) 是否是等于 0 如果等于0，则可以执行P2

![](../pic/2023-05-14-17-56-08.png)
![](../pic/2023-05-14-17-57-59.png)
![](../pic/2023-05-14-17-59-43.png)
![](../pic/2023-05-14-18-00-28.png)
![](../pic/2023-05-14-18-01-03.png)
![](../pic/2023-05-14-18-02-54.png)

![](../pic/2023-05-14-19-11-43.png)

# 三态模型

![](../pic/2023-05-14-19-13-20.png)


![](../pic/2023-05-14-20-14-34.png)
因为P4为等待扫描仪，如果P1释放了扫描仪，则P4应该进入就绪状态
![](../pic/2023-05-14-20-16-29.png)
![](../pic/2023-05-14-20-27-33.png)

# 同步互斥

![](../pic/2023-05-14-20-28-50.png)

# 信号量机制

![](../pic/2023-05-14-20-32-21.png)
![](../pic/2023-05-14-20-35-56.png)
P:申请资源
V:释放资源

![](../pic/2023-05-14-20-46-22.png)
![](../pic/2023-05-14-20-49-14.png)
![](../pic/2023-05-14-20-49-58.png)
![](../pic/2023-05-14-20-50-14.png)

# 同步操作

![](../pic/2023-05-14-21-00-43.png)

![](../pic/2023-05-14-21-09-06.png)
![](../pic/2023-05-14-21-18-08.png)
![](../pic/2023-05-14-21-18-19.png)
![](../pic/2023-05-14-21-23-34.png)
![](../pic/2023-05-14-21-23-46.png)
![](../pic/2023-05-14-21-24-02.png)

# 死锁

![](../pic/2023-05-14-21-26-43.png)
![](../pic/2023-05-14-21-28-52.png)
![](../pic/2023-05-14-21-30-50.png)





---





![](../pic/2023-05-14-21-31-34.png)
![](../pic/2023-05-14-21-32-34.png)



---





![](../pic/2023-05-14-21-33-40.png)

# 进程资源图

![](../pic/2023-05-14-21-35-19.png)



---


![](../pic/2023-05-22-20-52-49.png)



![](../pic/2023-05-14-21-41-38.png)





---





![](../pic/2023-05-14-21-44-16.png)









---





![](../pic/2023-05-14-21-54-35.png)
补充仍需 可用

运行P4时先分配，然后再还回去，根据已分配资源数还回去。

![](../pic/2023-05-14-22-01-17.png)
![](../pic/2023-05-14-22-01-31.png)

# 多线程

![](../pic/2023-05-14-22-04-15.png)

# 局限性原理

![](../pic/2023-05-14-22-07-59.png)
优先淘汰未被访问过的数据，然后是未被修改过的数据
![](../pic/2023-05-14-22-10-38.png)

# 分页存储管理

![](../pic/2023-05-14-22-15-53.png)



---





![](../pic/2023-05-14-22-18-07.png)





![](../pic/2023-05-14-22-19-25.png)

![](../pic/2023-05-14-22-27-51.png)



1024十进制转化为二进制 100 0000 0000

1KB =  2^10B 说明 页内地址占了10位 

分页地址 = 页号 + 页内地址 因此100 0000 0000 中1为页号

由图可知页号对应物理页=3



---





![](../pic/2023-05-15-12-32-01.png)
![](../pic/2023-05-15-12-32-41.png)

# 单缓冲区

![](../pic/2023-05-15-12-33-22.png)
![](../pic/2023-05-15-12-33-39.png)
![](../pic/2023-05-15-12-38-46.png)
![](../pic/2023-05-15-12-40-36.png)

# 磁盘调度算法

![](../pic/2023-05-15-12-43-26.png)
![](../pic/2023-05-15-12-44-27.png)
![](../pic/2023-05-15-12-45-35.png)
![](../pic/2023-05-15-12-48-00.png)
![](../pic/2023-05-15-12-55-54.png)
![](../pic/2023-05-15-12-55-26.png)

先把柱面号从小到大排序





---



![](../pic/2023-05-15-12-57-56.png)
![](../pic/2023-05-15-13-10-28.png)



---





![](../pic/2023-05-22-21-39-30.png)

![](../pic/2023-05-15-13-15-30.png)
n: 记录数

t: 每个扇区读时间 = 一周所需时间/n

th: 每个扇区处理时间

处理时间消耗掉几个扇区: 处理时间/每个扇区读取时间

处理一个扇区浪费所需时间: (n - 处理时间消耗掉几个扇区) * 读一个扇区消耗时间 + (t + th)

总时间: (n-1) * 处理一个扇区浪费所需时间  + （t+th)

n=9

t=27/9=3

th=3

(9-1)*3+(3+3)=30

总时间:(9-1)*30+3+3=246

答案应该是246   最少时间 = (读时间 + 处理时间) * n



---



![](../pic/2023-05-15-13-50-23.png)

(磁道移动时间 + 处理时间)  * 块数

（10 * 10 + 100+2）* 100

（每块的磁道数 * 磁道消耗时间 + 每块消耗时间)* 块数

---



![](../pic/2023-05-15-13-52-44.png)
![](../pic/2023-05-15-18-44-40.png)

# 多级索引结构

![](../pic/2023-05-15-20-05-45.png)
![](../pic/2023-05-15-20-38-34.png)
![](../pic/2023-05-15-20-42-32.png)
![](../pic/2023-05-15-20-51-49.png)

采用一级索引: 170个地址 每个地址指向一个磁盘块 因此 170 * 512B / 1024 = 85 

---





![](/Users/cancanliu/Documents/code/me-log-group/log-neoderm/pic/2023-05-15-20-57-59.png)
![](../pic/2023-05-15-20-58-40.png)
![](../pic/2023-05-15-20-59-32.png)
![](../pic/2023-05-15-21-01-10.png)

# 文件目录

![](../pic/2023-05-15-21-08-34.png)
![](../pic/2023-05-15-21-08-53.png)
![](../pic/2023-05-15-21-18-09.png)
![](../pic/2023-05-15-21-18-24.png)
![](../pic/2023-05-15-21-26-41.png)
![](../pic/2023-05-15-21-41-55.png)

# 位示图

![](../pic/2023-05-15-21-47-25.png)
![](../pic/2023-05-15-21-49-42.png)

一位表示一个物理块

4096/32 = 128个字左右

判断范围在128个字左右，第一个字表示0~32 因此第129个字表示 4096~...



代表一位指向物理块的大小为1M,

(200 * 1024/1)/32 = 6400

---





![](../pic/2023-05-15-21-53-02.png)
先计算有多少块
块数 = 200GB/1MB
1字 = 32位 即可以指定32个物理块
块数/32 = 字长
![](../pic/2023-05-15-21-58-05.png)
![](../pic/2023-05-15-21-59-40.png)
![](../pic/2023-05-15-22-00-50.png)
![](../pic/2023-05-15-22-07-36.png)
![](../pic/2023-05-15-22-08-20.png)

# 杂题

![](../pic/2023-05-15-22-11-13.png)
![](../pic/2023-05-15-22-14-16.png)
![](../pic/2023-05-15-22-15-18.png)

![](../pic/2023-05-15-22-19-32.png)
![](../pic/2023-05-15-22-20-11.png)

![](../pic/2023-05-15-22-21-28.png)
![](../pic/2023-05-15-22-23-51.png)
![](../pic/2023-05-15-22-24-42.png)
![](../pic/2023-05-15-22-25-42.png)
![](../pic/2023-05-15-22-26-17.png)
![](../pic/2023-05-15-22-26-46.png)
![](../pic/2023-05-15-22-27-19.png)

![](../pic/2023-05-15-22-29-03.png)
![](../pic/2023-05-15-22-29-23.png)
![](../pic/2023-05-15-22-30-01.png)
![](../pic/2023-05-15-22-30-57.png)
![](../pic/2023-05-15-22-32-22.png)
![](../pic/2023-05-15-22-32-52.png)

![](../pic/2023-05-15-22-35-08.png)