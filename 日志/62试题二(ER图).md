
# 基本

完整性约束就是补充主键和外键



![](../pic/2023-05-17-21-29-39.png)

![](../pic/2023-05-17-21-32-27.png)

![](../pic/2023-05-17-21-35-03.png)

![](../pic/2023-05-17-21-40-44.png)
属性下面有下划线: 就是主键

# 问题一
![](../pic/2023-05-17-21-47-20.png)

# 问题二

![](../pic/2023-05-17-22-08-15.png)
元组: 一条数据

### 一对一

![](../pic/2023-05-17-22-13-27.png)

### 一对多

![](../pic/2023-05-17-22-19-03.png)

### 多对多

![](../pic/2023-05-17-22-21-00.png)

### 多对多对多

![](../pic/2023-05-17-22-22-14.png)

### 子实体和父实体

![](../pic/2023-05-17-22-25-11.png)


![](../pic/2023-05-17-22-26-47.png)

技巧:
![](../pic/2023-05-17-22-37-37.png)

说明中描述的实体缺少字段时则直接填写
关系中缺少的也有可能是关联表的主键(根据一对多的关系，如果关系是多，那么应该填写1的表的主键)
如果所属关系单独出现一个关系，就不能再填写主键，如托运申请表，只能填写申请号,客户号，因为下面有单独的安排承运关系，该关系包含了业务员即员工号

![](../pic/2023-05-17-22-44-56.png)

---

![](../pic/2023-05-17-22-55-57.png)
![](../pic/2023-05-17-22-58-16.png)



---



![](../pic/2023-05-23-20-45-27.png)
![](../pic/2023-05-23-20-45-41.png)

问题二:

注意还有外键，一个空有可能有多个字段

有说明可知，一张维修单可有多个维修工，而维修工是个实体，因为部门表中的主管也是实体，因此这里就写（车牌号，维修工）

![](../pic/2023-05-23-21-13-41.png)

问题三:

![](../pic/2023-05-23-21-14-30.png)

问题四:

1:* 变成了`*:*`

把维修工删除，新增一个维修关系，

维修(维修单号,维修工,维修内容,工时)
![](../pic/2023-05-23-21-41-13.png)

---

![](../pic/2023-05-23-21-21-30.png)
![](../pic/2023-05-23-21-21-44.png)


问题一:

分公司-经理: 1:1

分公司-业务部: 1:*

业务部-主管: 1:1

业务部-职员: 1:*

答案：

问题二:

a: 经理号

b: 地址，分公司编号，主管

c: 所属业务部编号

答案:
![](../pic/2023-05-23-21-49-28.png)

问题三:

"分公司"关系的主键: 分公司编号 外键: 经理号

"业务部门"关系的主键: 业务部编号 外键: 分公司编号，主管

答案:
![](../pic/2023-05-23-21-50-06.png)


问题四:

"职员"关系就会存在冗余，冗余了家庭成员姓名和成员关系

新增一个家属关系

家属(家属编号，职员号，家庭成员姓名，成员关系)

家属为主键，职员号为外键

答案:
![](../pic/2023-05-23-21-51-36.png)


---

![](../pic/2023-05-23-21-52-48.png)
![](../pic/2023-05-23-21-53-05.png)

问题一:

a:负责人

b:培训师

c:新入职员工

所属 员工-部门:*:1 

授课 培训师-新入职员工：`*:*`

答案:

因为表中有部门负责人，因此是部门负责人而不是负责人

说明中没有体现培训师和新入职员工的关系，因此不需要填写

![](../pic/2023-05-23-22-17-47.png)


问题二:

d:岗位，基本工资

e:课程号

f:培训师，员工号

答案:
![](../pic/2023-05-23-22-23-07.png)

根据实体名称判断是否要写工号编号等，如其他表中存在培训师，因此这些需要改成新入职员工

问题三:

(员工号) (部门号)

(课程号，培训师)（培训地点）

答案:



![image-20230523223801103](../pic/image-20230523223801103.png)



联合主键使用括号括起来，外键是表的主键



问题四:

存在

员工号->岗位 岗位->基本工资

因此员工号->基本工资

答案:

![image-20230523224235984](../pic/image-20230523224235984.png)





---



![image-20230524233504562](../pic/image-20230524233504562.png)

![image-20230524233526708](../pic/image-20230524233526708.png)

![image-20230524233709830](../pic/image-20230524233709830.png)

![image-20230524233836661](../pic/image-20230524233836661.png)





---



![image-20230525215121936](../pic/image-20230525215121936.png)

![image-20230525215138555](../pic/image-20230525215138555.png)

![image-20230525215704674](../pic/image-20230525215704674.png)



![image-20230525215728593](../pic/image-20230525215728593.png)

![image-20230525215743055](../pic/image-20230525215743055.png)

不需要增信一个实体，

员工号，任职时间，任职年限

![image-20230525220815834](../pic/image-20230525220815834.png)
